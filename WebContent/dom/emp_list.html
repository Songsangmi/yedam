<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>emp_list.html</title>
    <style>
   * {
            box-sizing: border-box;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        }

        div#show {
            width: 60%;
            float: left;
        }

        div#aside {
            width: 28%;
            float: left;
            border: 2px dotted firebrick;
            padding: 5px;
        }

        #aside label {
            display: inline-block;
            width: 100px;
        }
    </style>
</head>

<body>

    <div id="show">
        <!-- <table border="1">
            <tr>
                <td>id</td>
                <td>fname</td>
                <td>lname</td>
                <td>email</td>
                <td>gender</td>
                <td>ip</td>
            </tr>
        </table> -->
    </div>

    <div id="aside">
        <div class="id"><label for="empId">ID</label><input type="text" id="empId"></div>
        <div class="fname"><label for="empId">FName</label><input type="text" id="firstName"></div>
        <div class="lname"><label for="empId">LName</label><input type="text" id="lastName"></div>
        <div class="email"><label for="empId">Email</label><input type="text" id="email"></div>
        <div class="gender"><label for="empId">Gender</label><input type="text" id="gender"></div>
        <div class="address"><label for="empId">IP</label><input type="text" id="address"></div>
        <div class="btn"> <button id="btn">변경</button><button id="btndel">삭제</button></div>
    </div>

    <script>
        document.getElementById('btn').onclick = function(){
            let empId = document.getElementById('empId').value;
            let fname = document.getElementById('firstName').value;
            let lname = document.getElementById('lastName').value;
            let email = document.getElementById('email').value;
            let gender = document.getElementById('gender').value;
            let address = document.getElementById('address').value;
            // console.log(empId);

            let findTr = document.getElementById(empId);
            console.log(findTr);
            findTr.childNodes[1].firstChild.nodeValue =fname;
            findTr.childNodes[2].firstChild.nodeValue =lname;
            findTr.childNodes[3].firstChild.nodeValue =email;
            findTr.childNodes[4].firstChild.nodeValue =gender;
            findTr.childNodes[5].firstChild.nodeValue =address;
        }
        document.getElementById('btndel').onclick = function(){

        }


        let rawData = `[{
                "id": 1,
                "first_name": "Trescha",
                "last_name": "Addie",
                "email": "taddiea@slideshare.net",
                "gender": "Polygender",
                "ip_address": "41.105.114.162"
            },
            {
                "id": 2,
                "first_name": "Rosa",
                "last_name": "Heinritz",
                "email": "rheinritz1@symantec.com",
                "gender": "Bigender",
                "ip_address": "22.86.190.179"
            },
            {
                "id": 3,
                "first_name": "Teena",
                "last_name": "Roddick",
                "email": "troddick0@photobucket.com",
                "gender": "Polygender",
                "ip_address": "98.108.79.169"
            },
            {
                "id": 4,
                "first_name": "Jewelle",
                "last_name": "Baudinot",
                "email": "jbaudinot2@skype.com",
                "gender": "Polygender",
                "ip_address": "13.235.92.170"
            },
            {
                "id": 5,
                "first_name": "Valentin",
                "last_name": "Newham",
                "email": "vnewham4@cloudflare.com",
                "gender": "Agender",
                "ip_address": "117.205.100.183"
            },
            {
                "id": 15,
                "first_name": "Bobbie",
                "last_name": "Kitter",
                "email": "bkitterd@disqus.com",
                "gender": "Male",
                "ip_address": "108.73.173.221"
            }
        ]`;

        let data = JSON.parse(rawData);

        console.log(data);

        let table, tbody, tr, td, text;
        table = document.createElement('table');
        table.setAttribute('border', '1');
        tbody = document.createElement('tbody');
        table.appendChild(tbody);

        // title 부분
        tr = document.createElement('tr');
        tbody.appendChild(tr);
        for(let field in data[0]){
            td = document.createElement('th');
            text = document.createTextNode(field.replace('_', ' ').toUpperCase());
            td.appendChild(text);
            tr.appendChild(td);
        }

        // data 부분
        for (let row of data){
            tr = document.createElement('tr');
            tr.setAttribute('id', row.id);

            tr.onmouseover = function () {
                // console.log(this.childNodes[0].firstChild);
                let empId = this.childNodes[0].firstChild.nodeValue;
                let fname = this.childNodes[1].firstChild.nodeValue;
                let lname = this.childNodes[2].firstChild.nodeValue;
                let email = this.childNodes[3].firstChild.nodeValue;
                let gender = this.childNodes[4].firstChild.nodeValue;
                let address = this.childNodes[5].firstChild.nodeValue;
            
                document.getElementById('empId').value = empId;
                document.getElementById('firstName').value = fname;
                document.getElementById('lastName').value = lname;
                document.getElementById('email').value = email;
                document.getElementById('gender').value = gender;
                document.getElementById('address').value = address;
            }
            tbody.appendChild(tr);
            for (let field in row){
                td = document.createElement('td');
                text = document.createTextNode(row[field]);
                td.appendChild(text);
                tr.appendChild(td);
            }
        }

        // let h1 = document.createElement('h3');
        // text = document.createTextNode('<사원리스트>');
        // h1.appendChild(text);
        // h1.style.textAlign = 'conter';

        let show = document.getElementById('show');
        // show.appendChild(h1);
        show.appendChild(table);
    </script>
</body>
</html>